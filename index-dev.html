<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Raksha Bandhan 2025!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        /* Custom styles for fonts and animations */
        body {
            font-family: "Playwrite AU QLD", cursive;
            overflow: hidden;
            /* Prevents scrollbars from animations */
        }

        .font-playfair {
            font-family: "Playwrite AU QLD", cursive;
        }

        /* Animated Pastel Gradient Background */
        .animated-gradient {
            background: linear-gradient(-45deg, #ffecd2, #fcb69f, #ff5858, #f6d365, #fda085, #f12711, #f5af19);
            background-size: 400% 400%;
            animation: gradientBG 20s ease infinite;
        }

        @keyframes gradientBG {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Card flip animation setup */
        .scene {
            perspective: 1000px;
        }

        .card {
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.77, 0, 0.175, 1);
        }

        .card.is-flipped {
            transform: rotateY(-180deg);
        }

        .card-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            /* Safari */
        }

        .card-face-back {
            transform: rotateY(180deg);
        }

        /* Pop animation for Click Me button */
        @keyframes pop {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.15);
            }
            100% {
                transform: scale(1);
            }
        }

        .pop-animate {
            animation: pop 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
        }

        /* Flower blast (on click) animation */
        .confetti {
            position: absolute;
            font-size: 1.5rem;
            pointer-events: none;
            animation: fall 4s linear forwards;
            z-index: 100;
        }

        @keyframes fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(120vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Background floating elements animation */
        .bg-element {
            position: absolute;
            bottom: -150px;
            /* Start below the screen */
            pointer-events: none;
            opacity: 0;
            animation: float-up linear infinite;
        }

        @keyframes float-up {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }

            10%,
            90% {
                opacity: 0.7;
            }

            100% {
                transform: translateY(-120vh) translateX(var(--drift-x, 20px)) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>

<body class="bg-gray-100">

    <!-- Animated Background Layers -->
    <div class="animated-gradient absolute inset-0 z-0"></div>
    <div id="background-elements" class="absolute inset-0 z-0 overflow-hidden"></div>

    <!-- Confetti Container -->
    <div id="confetti-container" class="absolute inset-0 w-full h-full pointer-events-none"></div>

    <!-- Main Content -->
    <main class="relative z-10 flex flex-col items-center justify-center min-h-screen p-4 text-center text-gray-800">

        <header class="mb-8">
            <h1 class="font-playfair text-4xl md:text-6xl font-bold text-pink-900 drop-shadow-lg">Happy Raksha Bandhan
                2025</h1>
            <p class="mt-2 text-lg md:text-xl text-gray-700">Celebrate the bond of love and protection.</p>
        </header>

        <!-- Greeting Card Scene -->
        <div class="scene w-full max-w-sm aspect-video">
            <div id="greeting-card" class="card relative w-full h-full">

                <!-- Card Front with Video -->
                <div class="card-face absolute w-full h-full rounded-xl shadow-2xl overflow-hidden bg-black">
                    <video id="rakhi-video" class="w-full h-full object-cover aspect-video" preload="metadata" playsinline>
                        <source
                            src="Happy Raksha Bandhan 2023 __ Motion Graphic Video of Rakshabandhan __ After effect animation.mp4"
                            type="video/mp4">
                        Aapka browser video tag support nahi karta.
                    </video>
                    <audio id="rakhi-audio" src="rakhi audio.mp3"></audio>
                    <div id="play-overlay"
                        style="background-image: url('rak.jpg'); background-size: cover; background-position: center;"
                        class="absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-end cursor-pointer transition-opacity duration-300">
                        <span
                            class="mb-2 text-white text-2xl font-semibold bg-black bg-opacity-40 px-6 py-3 rounded-lg backdrop-blur-sm pop-animate">Click Me..</span>
                    </div>
                </div>

                <!-- Card Back (Inside) -->
                <div
                    class="card-face card-face-back absolute w-full h-full rounded-xl shadow-2xl bg-rose-50 flex flex-col items-center justify-center p-6 md:p-8">
                    <div class="text-center">
                        <p class="text-gray-700 text-lg md:text-xl italic">
                            "The bond between a brother and sister is a timeless thread, woven with laughter, support,
                            and endless love. Happy Rakhi!"
                        </p>
                        <p class="mt-8 text-pink-600 font-semibold text-lg">
                            <span class="text-5xl">ğŸ˜Š</span>
                        </p>
                    </div>
                </div>

            </div>
        </div>

    </main>

    <script>
        const card = document.getElementById('greeting-card');
        const video = document.getElementById('rakhi-video');
        const audio = document.getElementById('rakhi-audio');
        const playOverlay = document.getElementById('play-overlay');
        const confettiContainer = document.getElementById('confetti-container');
        const bgElementsContainer = document.getElementById('background-elements');
        let isCardOpen = false;

        // --- Video Play Logic ---
        playOverlay.addEventListener('click', () => {
            playOverlay.style.opacity = '0'; // Hide the overlay
            video.play().then(() => {
                audio.currentTime = 0;
                audio.play();
            }).catch(error => {
                console.error("Video play failed:", error);
                playOverlay.style.opacity = '1'; // Show overlay again if play fails
            });
        });

        // --- Card Flip on Video End ---
        video.addEventListener('ended', () => {
            audio.pause();
            audio.currentTime = 0;
            if (isCardOpen) return;
            card.classList.add('is-flipped');
            isCardOpen = true;
            createConfettiBlast();
        });

        // --- Confetti Blast ---
        function createConfettiBlast() {
            const confettiEmojis = ['ğŸŒ¸', 'ğŸ‰', 'âœ¨', 'ğŸ’–', 'ğŸŠ', 'ğŸŒ¹','ğŸ’«'];
            const numberOfConfetti = 60;

            for (let i = 0; i < numberOfConfetti; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.innerText = confettiEmojis[Math.floor(Math.random() * confettiEmojis.length)];

                const startX = Math.random() * window.innerWidth;
                const startY = Math.random() * window.innerHeight * 0.8;
                const size = Math.random() * 1.5 + 1;
                const animationDuration = Math.random() * 2 + 3;
                const animationDelay = Math.random() * 0.2;

                confetti.style.left = `${startX}px`;
                confetti.style.top = `${startY}px`;
                confetti.style.fontSize = `${size}rem`;
                confetti.style.animationDuration = `${animationDuration}s`;
                confetti.style.animationDelay = `${animationDelay}s`;

                confettiContainer.appendChild(confetti);

                setTimeout(() => confetti.remove(), (animationDuration + animationDelay) * 1000);
            }
        }

        // --- Continuous Background Floating Elements ---
        function createBackgroundElements() {
            const elements = ['ğŸª”', 'ğŸ', 'ğŸ˜ğŸ¦‹', 'ğŸ¦‹', 'âœ¨', 'ğŸ€'];
            const numberOfElements = 25;

            for (let i = 0; i < numberOfElements; i++) {
                const el = document.createElement('div');
                el.classList.add('bg-element');
                el.innerText = elements[Math.floor(Math.random() * elements.length)];

                const size = Math.random() * 2 + 1;
                const horizontalStart = Math.random() * 100;
                const animationDuration = Math.random() * 15 + 10;
                const animationDelay = Math.random() * 25;
                const drift = (Math.random() - 0.5) * 200;

                el.style.fontSize = `${size}rem`;
                el.style.left = `${horizontalStart}vw`;
                el.style.animationDuration = `${animationDuration}s`;
                el.style.animationDelay = `-${animationDelay}s`;
                el.style.setProperty('--drift-x', `${drift}px`);

                bgElementsContainer.appendChild(el);
            }
        }

        // Initialize background animation instantly
        window.onload = function () {
            createBackgroundElements();
        };

    </script>

</body>

</html>